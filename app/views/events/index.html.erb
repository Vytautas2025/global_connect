<div class="row">

  <div class="col-lg-8 d-flex align-items-center justify-content-center">
    <div class="cards-section p-4 w-100">
      <h2 class="mb-3 text-center ">Upcoming Events</h2>
      <div class="row gx-2 gy-3">
        <% @events.each do |event| %>
          <div class="col-6 col-md-4">
            <%= link_to event_path(event), class: "card event-card bg-secondary h-100 clickable-container position-relative text-decoration-none" do %>
              <div class="event-card-image-wrapper">
                <img class="card-image" src="https://cdn8.dissolve.com/p/D2012_164_052/D2012_164_052_1200.jpg" alt="runner">
                <h3 class="event-card-name text-white"><%= event.name %></h3>
              </div>
              <div class="event-card-overlay">
                <p class="mb-1 text-white">
                  🕑 <%= event.date.strftime("%b %-d, %Y • %I:%M %p") %>
                </p>
                <p class="mb-1 text-white">
                  📍 <%= event.location %>
                </p>
                <p class="mb-1 text-white">
                  🏃‍♂️ <%= event.people_limit%> person limit
                </p>
                <p class="mb-1 text-white">
                  💬 <%= event.description %>
                </p>
              </div>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  </div>

  <div class="col-lg-4">
    <div class="map-container d-flex align-items-center justify-content-center"
     style="min-height:800px; height:90vh; margin: auto;">
    <div style="width: 100%; height: 600px;"
        data-controller="map"
        data-map-markers-value="<%= @markers.to_json %>"
        data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>
    </div>
    </div>
</div>
