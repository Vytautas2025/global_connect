<div class="container-fluid bg-light min-vh-100">
  <div class="row">

    <!-- Left Column -->
  <div class="col-md-7">
  <div>
    <div class="profile-banner w-100 mb-3"
         style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url(https://i0.wp.com/images-prod.healthline.com/hlcmsresource/images/topic_centers/2019-8/couple-hiking-mountain-climbing-1296x728-header.jpg?w=1155&h=1528); ">
      <div class="profile-icon">
        <% if current_user.photo.attached? %>
          <%= image_tag current_user.photo, alt: "User Avatar", class: "profile-icon" %>
        <% else %>
          <%= image_tag "default-profile-image.jpg", alt: "Default Avatar", class: "avatar dropdown menu" %>
        <% end %>
      </div>
      <div class="profile-text">PROFILE</div>

    </div>


  </div>

  <div class="personal-info-section bg-white rounded shadow-sm p-4 mt-3">
    <h5 class="mb-4 text-center">Personal Information</h5>
    <%= simple_form_for current_user, url: profile_path(current_user), method: :patch do |f| %>
      <div class="mb-3">
        <%= f.input :first_name, label: "First Name", input_html: { class: "form-control", placeholder: "Enter your first name" } %>
      </div>
      <div class="mb-3">
        <%= f.input :bio, label: "Bio", as: :text, input_html: { class: "form-control", placeholder: "Tell us about yourself" } %>
      </div>
      <div class="d-flex justify-content-center gap-3">
        <%= f.button :submit, "Save Changes", class: "btn btn-primary" %>
        <%= link_to "Edit Info", edit_profile_path(current_user), class: "btn btn-secondary" %>
      </div>
    <% end %>

  </div>
</div>


    <div class="col-md-5">
        <div class="event-card">
          <div class="overlay"
            style="background-image: url(<%= event_banner_image(@next_event) %>); background-size: cover; background-position: center;">
            <h4 class="mb-3 text-center text-white">Your Next Event</h4>
            <% if @next_event %>
              <div class="mb-2 text-white"><strong>Event:</strong> <%= @next_event.name %></div>
              <div class="mb-2 text-white"><strong>Date:</strong> <%= @next_event.date.strftime('%b %-d, %Y') %></div>
              <div class="mb-3 text-white"><strong>Location:</strong> <%= @next_event.location %></div>
              <div class="mt-3 text-white time-left">
                <strong>Time Left:</strong>
                <div id="countdown" data-event-date="<%= @next_event.date.iso8601 %>" class="countdown-timer timer-box"></div>
              </div>
            <% else %>
              <p>No upcoming events.</p>
            <% end %>
          </div>
        </div>



        <div id="upcomingEventCarousel" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner pt-4">
            <% @upcoming_events.each_with_index do |event, index| %>
              <div class="carousel-item <%= 'active' if index == 0 %>">
                <div class="event-card" style="background-image: url(<%= event_banner_image(event) %>); background-size: cover; background-position: center;">
                  <div class="overlay">
                    <h4 class="mb-3 text-center text-white">Upcoming Event</h4>
                    <div class="mb-2 text-white"><strong>Event:</strong> <%= event.name %></div>
                    <div class="mb-2 text-white"><strong>Date:</strong> <%= event.date.strftime('%b %-d, %Y') %></div>
                    <div class="mb-3 text-white"><strong>Location:</strong> <%= event.location %></div>
                  </div>
                </div>
              </div>
            <% end %>
          </div>

          <button class="carousel-control-prev" type="button" data-bs-target="#upcomingEventCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#upcomingEventCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>



  </div>
</div>
